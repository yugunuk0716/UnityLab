<color=#569CD6>uisng</color> <color=#DCDCDC>System.Collections;</color><newLine><color=#569CD6>using</color> <color=#DCDCDC>System.Collections.Generic;</color><newLine><color=#569CD6>using</color> <color=#DCDCDC>UnityEngine;</color><newLine><color=#DCDCDC></color><newLine><color=#569CD6>public class</color> <color=#4EC9B0>EnemyMove</color> <color=#DCDCDC>:</color> <color=#4EC9B0>MonoBehaviour</color><newLine><color=#DCDCDC>{</color><newLine><1><color=#DCDCDC>[</color><color=#4EC9B0>SerializeField</color><color=#DCDCDC>]</color><newLine><1><color=#569CD6>protected float</color> <color=#DCDCDC>speed =</color> <color=#B5CEA8>0.5f</color><color=#DCDCDC>;</color><newLine><color=#DCDCDC></color><newLine><1><color=#DCDCDC>[</color><color=#4EC9B0>SerializeField</color><color=#DCDCDC>]</color><newLine><1><color=#569CD6>private int</color> <color=#DCDCDC>rewardScore</color> <color=#DCDCDC>=</color> <color=#B5CEA8>100</color><color=#DCDCDC>;</color><newLine><1><color=#DCDCDC>[</color><color=#4EC9B0>SerializeField</color><color=#DCDCDC>]</color><newLine><1><color=#569CD6>private int</color> <color=#DCDCDC>hp</color> <color=#DCDCDC>=</color> <color=#B5CEA8>2</color><color=#DCDCDC>;</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>protected bool</color> <color=#DCDCDC>isDead =</color> <color=#569CD6>false</color><color=#DCDCDC>;</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>private</color> <color=#4EC9B0>GameManager</color> <color=#DCDCDC>gameManager;</color><newLine><1><color=#569CD6>private</color> <color=#4EC9B0>SpriteRenderer</color> <color=#DCDCDC>spriteRenderer;</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>protected virtual void Start</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#DCDCDC>gameManager =</color> <color=#DCDCAA>FindObjectOfType</color><color=#DCDCDC><</color><color=#4EC9B0>GameManager</color><color=#DCDCDC>>();</color><newLine><2><color=#DCDCDC></color><color=#DCDCDC>spriteRenderer =</color> <color=#DCDCAA>GetComponent</color><color=#DCDCDC><</color><color=#4EC9B0>SpriteRenderer</color><color=#DCDCDC>>();</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>protected virtual void Update</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#569CD6>if</color> <color=#DCDCDC>(isDead)</color> <color=#569CD6>return</color><color=#DCDCDC>;</color><newLine><color=#DCDCDC></color><newLine><2><color=#DCDCDC>transform.</color><color=#DCDCAA>Translate</color><color=#DCDCDC>(</color><color=#B5CEA8>Vector2</color><color=#DCDCDC>.down * speed);</color><newLine><color=#DCDCDC></color><newLine><2><color=#569CD6>if</color> <color=#DCDCDC>(transform.localPosition.y < gameManager.minPosition.y -</color> <color=#B5CEA8>2f</color><color=#DCDCDC>)</color><newLine><2><color=#DCDCDC>{</color><newLine><3><color=#DCDCAA>Destroy</color><color=#DCDCDC>(</color><color=#DCDCDC>gameObject);</color><newLine><2><color=#DCDCDC>}</color><newLine><1><color=#DCDCDC>}</color><newLine><1><color=#569CD6>private void</color> <blink><color=#4EC9B0>OnTriggerEnter2D</color></blink><color=#DCDCDC>(</color><color=#4EC9B0>Collider2D</color> <color=#DCDCDC>collision)</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#569CD6>if</color><color=#DCDCDC>(</color><color=#DCDCDC>collision.</color><color=#DCDCAA>CompareTag</color><color=#DCDCDC>(</color><color=#D39D85>"Bullet"</color><color=#DCDCDC>))</color><newLine><2><color=#DCDCDC>{</color><newLine><3><color=#DCDCDC>hp--;</color><newLine><3><color=#DCDCAA>Destroy</color><color=#DCDCDC>(collision.gameObject);</color><newLine><color=#DCDCDC></color><newLine><3><color=#569CD6>if</color> <color=#DCDCDC>(hp <=</color> <color=#B5CEA8>0</color><color=#DCDCDC>)</color><newLine><3><color=#DCDCDC>{</color><newLine><4><color=#DCDCDC>isDead =</color> <color=#569CD6>true</color><color=#DCDCDC>;</color><newLine><4><color=#DCDCDC>gameManager.score +=</color> <blink><color=#DCDCDC>rewardScore</color></blink><color=#DCDCDC>;</color><newLine><4><color=#DCDCDC>gameManager.</color><color=#DCDCAA>UpdateScore</color><color=#DCDCDC>();</color><newLine><color=#DCDCDC></color><newLine><4><color=#DCDCAA>Destroy</color><color=#DCDCDC>(</color><color=#569CD6>this</color><color=#DCDCDC>.gameObject,</color> <color=#B5CEA8>0.5f</color><color=#DCDCDC>);</color><newLine><3><color=#DCDCDC>}</color><newLine><3><color=#569CD6>else</color><newLine><3><color=#DCDCDC>{</color><newLine><4><color=#DCDCAA>StartCoroutine</color><color=#DCDCDC>(</color><blink><color=#DCDCAA>DamageEffect</color></blink><color=#DCDCDC>());</color><newLine><3><color=#DCDCDC>}</color><newLine><2><color=#DCDCDC>}</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>private</color> <color=#B5CEA8>IEnumerator</color> <color=#DCDCAA>DamageEffect</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#DCDCDC>spriteRenderer.material.</color><color=#DCDCAA>SetColor</color><color=#DCDCDC>(</color><color=#D39D85>"_Color"</color><color=#DCDCDC>,</color> <color=#569CD6>new</color> <color=#DCDCDC>Color</color><color=#DCDCDC>(</color><color=#B5CEA8>1f</color><color=#DCDCDC>,</color> <color=#B5CEA8>1f</color><color=#DCDCDC>,</color> <color=#B5CEA8>1f</color><color=#DCDCDC>,</color> <color=#B5CEA8>0f</color><color=#DCDCDC>));</color><newLine><2><color=#569CD6>yield return new</color> <color=#4EC9B0>WaitForSeconds</color><color=#DCDCDC>(</color><color=#B5CEA8>0.1f</color><color=#DCDCDC>);</color><newLine><2><color=#DCDCDC>spriteRenderer.material.</color><color=#DCDCAA>SetColor</color><color=#DCDCDC>(</color><color=#D39D85>"_Color"</color><color=#DCDCDC>,</color> <color=#569CD6>new</color> <color=#DCDCDC>Color(</color><color=#B5CEA8>0f</color><color=#DCDCDC>,</color> <color=#B5CEA8>0f</color><color=#DCDCDC>,</color> <color=#B5CEA8>0f</color><color=#DCDCDC>,</color> <color=#B5CEA8>0f</color><color=#DCDCDC>));</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC>}</color>