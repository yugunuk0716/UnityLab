<color=#569CD6>using</color> <color=#DCDCDC>System.Collections;</color><newLine><color=#569CD6>using</color> <color=#DCDCDC>System.Collections.Generic;</color><newLine><color=#569CD6>using</color> <color=#DCDCDC>UnityEngine;</color><newLine><color=#569CD6>using</color> <color=#DCDCDC>UnityEngine.SceneManagement;</color><newLine><color=#DCDCDC></color><newLine><color=#569CD6>public class</color> <color=#4EC9B0>PlayerMove</color> <color=#DCDCDC>:</color> <color=#4EC9B0>MonoBehaviour</color><newLine><color=#DCDCDC>{</color><newLine><1><color=#DCDCDC>[</color><color=#4EC9B0>SerializeField</color><color=#DCDCDC>]</color><newLine><1><color=#569CD6>private float</color> <color=#DCDCDC>speed =</color> <color=#B5CEA8>0.5f</color><color=#DCDCDC>;</color><newLine><1><color=#DCDCDC>[</color><color=#4EC9B0>SerializeField</color><color=#DCDCDC>]</color><newLine><1><color=#569CD6>private</color> <color=#4EC9B0>Transform</color> <color=#DCDCDC>firePosition;</color><newLine><1><color=#DCDCDC>[</color><color=#4EC9B0>SerializeField</color><color=#4EC9B0>]</color><newLine><1><color=#569CD6>private</color> <color=#4EC9B0>GameObject</color> <color=#DCDCDC>bulletPrfab;</color><newLine><color=#DCDCDC></color><newLine><1><color=#DCDCDC>private</color> <color=#4EC9B0>GameManager</color> <color=#DCDCDC>gameManager;</color><newLine><1><color=#569CD6>private</color> <color=#4EC9B0>Collider2D</color> <color=#DCDCDC>col;</color><newLine><1><color=#B5CEA8>Vector2</color> <color=#DCDCDC>targetPosition</color> <color=#DCDCDC>=</color> <color=#B5CEA8>Vector2</color><color=#DCDCDC>.zero;</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>private void Start</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#DCDCDC>gameManager =</color> <color=#DCDCAA>FindObjectOfType</color><color=#DCDCDC><</color><color=#4EC9B0>GameManager</color><color=#DCDCDC>></color><color=#DCDCDC>();</color><newLine><2><color=#DCDCDC>col =</color> <color=#DCDCAA>GetComponent</color><color=#DCDCDC><</color><color=#4EC9B0>Collider2D</color><color=#DCDCDC>></color><color=#DCDCDC>();</color><newLine><2><color=#DCDCAA>StartCoroutine</color><color=#DCDCDC>(</color><color=#DCDCAA>Fire</color><color=#DCDCDC>());</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>private void Update</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#569CD6>if</color><color=#DCDCDC>(</color><color=#4EC9B0>Input</color><color=#DCDCDC>.</color><color=#DCDCAA>GetMouseButton</color><color=#DCDCDC>(</color><color=#B5CEA8>0</color><color=#DCDCDC>))</color><newLine><2><color=#DCDCDC>{</color><newLine><3><color=#DCDCDC>targetPosition =</color> <color=#4EC9B0>Camera</color><color=#DCDCDC>.main.</color><color=#DCDCAA>ScreenToWorldPoint</color><color=#DCDCDC>(</color><color=#4EC9B0>Input</color><color=#DCDCDC>.</color><color=#DCDCDC>mousePosition);</color><newLine><color=#DCDCDC></color><newLine><3><color=#DCDCDC>targetPosition.x =</color> <color=#B5CEA8>Mathf</color><color=#DCDCDC>.</color><color=#DCDCAA>Clamp</color><color=#DCDCDC>(</color><color=#DCDCDC>targetPosition.x, gameManager.minPosition.x, gameManager.maxPosition.x);</color><newLine><3><color=#DCDCDC>targetPosition.y =</color> <color=#B5CEA8>Mathf</color><color=#DCDCDC>.</color><color=#DCDCAA>Clamp</color><color=#DCDCDC>(targetPosition.y, gameManager.minPosition.y, gameManager.maxPosition.y);</color><newLine><color=#DCDCDC></color><newLine><3><color=#DCDCDC>transform.localPosition =</color> <color=#B5CEA8>Vector3</color><color=#DCDCDC>.</color><color=#DCDCAA>MoveTowards</color><color=#DCDCDC>(transform.localPosition, targetPosition,</color> <color=#4EC9B0>Time</color><color=#DCDCDC>.</color><color=#DCDCDC>deltaTime * speed);</color><newLine><2><color=#DCDCDC>}</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC></color><newLine><1><color=#B5CEA8>IEnumerator</color> <color=#DCDCAA>Fire</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#569CD6>while</color><color=#DCDCDC>(</color><color=#569CD6>true</color><color=#DCDCDC>)</color><newLine><2><color=#DCDCDC>{</color><newLine><3><color=#4EC9B0>GameObject</color><color=#DCDCDC>.</color><color=#DCDCAA>Instantiate</color><color=#DCDCDC>(</color><color=#DCDCDC>bulletPrfab, firePosition.position,</color> <color=#4EC9B0>Quaternion</color><color=#DCDCDC>.</color><color=#DCDCDC>identity);</color><newLine><color=#DCDCDC></color><newLine><3><color=#569CD6>yield return new</color> <color=#4EC9B0>WaitForSeconds</color><color=#DCDCDC>(</color><color=#B5CEA8>0.2f</color><color=#DCDCDC>)</color><color=#DCDCDC>;</color><newLine><2><color=#DCDCDC>}</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC></color><newLine><1><color=#B5CEA8>IEnumerator</color> <color=#DCDCAA>Revive</color><color=#DCDCDC>()</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#DCDCDC>col.enabled =</color> <color=#569CD6>false</color><color=#DCDCDC>;</color><newLine><2><color=#569CD6>int</color> <color=#DCDCDC>count =</color> <color=#B5CEA8>0</color><color=#DCDCDC>;</color><newLine><2><color=#569CD6>while</color> <color=#DCDCDC>(count <</color> <color=#B5CEA8>5</color><color=#DCDCDC>)</color><newLine><2><color=#DCDCDC>{</color><newLine><3><color=#DCDCDC>spriteRenderer.enabled =</color> <color=#569CD6>false</color><color=#DCDCDC>;</color><newLine><3><color=#569CD6>yield return new</color> <color=#4EC9B0>WaitForSeconds</color><color=#DCDCDC>(</color><color=#B5CEA8>0.25f</color><color=#DCDCDC>);</color><newLine><3><color=#DCDCDC>spriteRenderer.enabled =</color> <color=#569CD6>true</color><color=#DCDCDC>;</color><newLine><3><color=#569CD6>yield return new</color> <color=#4EC9B0>WaitForSeconds</color><color=#DCDCAA>(</color><color=#B5CEA8>0.25f</color><color=#DCDCDC>)</color><color=#DCDCDC>;</color><newLine><3><color=#DCDCDC>count++;</color><newLine><2><color=#DCDCDC>}</color><newLine><2><color=#DCDCDC>col.enabled =</color> <color=#569CD6>true</color><color=#DCDCDC>;</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC></color><newLine><1><color=#569CD6>private void</color> <blink><color=#DCDCAA>OnTriggerEnter2D</color></blink><color=#DCDCDC>(</color><color=#4EC9B0>Collider2D</color> <color=#DCDCDC>collision)</color><newLine><1><color=#DCDCDC>{</color><newLine><2><color=#569CD6>if</color><color=#DCDCDC>(collision.</color><blink><color=#DCDCAA>CompareTag</color></blink><color=#DCDCDC>(</color><color=#D39D85>"Enemy"</color><color=#DCDCDC>))</color><newLine><2><color=#DCDCDC>{</color><newLine><3><color=#569CD6>if</color><color=#DCDCDC>(gameManager.life ></color> <color=#B5CEA8>0</color><color=#DCDCDC>)</color><newLine><3><color=#DCDCDC>{</color><newLine><4><color=#DCDCDC>gameManager.life--;</color><newLine><4><color=#DCDCDC>gameManager.</color><blink><color=#DCDCAA>UpdateLife</color></blink><color=#DCDCDC>();</color><color=#DCDCAA><newLine><4><color=#DCDCAA>StartCoroutine</color><color=#DCDCDC>(</color><color=#DCDCDC>(</color><blink><color=#DCDCAA>Revive</color></blink><color=#DCDCDC>());</color><newLine><3><color=#DCDCDC>}</color><newLine><3><color=#569CD6>else</color><newLine><3><color=#DCDCDC>{</color><newLine><4><color=#4EC9B0>SceneManager</color><color=#DCDCDC>.</color><blink><color=#DCDCAA>LoadScene</color></blink><color=#DCDCDC>(</color><color=#D39D85>"GameOver"</color><color=#DCDCDC>);</color><newLine><3><color=#DCDCDC>}</color><newLine><2><color=#DCDCDC>}</color><newLine><1><color=#DCDCDC>}</color><newLine><color=#DCDCDC>}</color>